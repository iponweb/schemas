{
  "description": "VMAuthUnauthorizedUserAccessSpec defines unauthorized_user section configuration for vmauth",
  "type": "object",
  "properties": {
    "default_url": {
      "description": "DefaultURLs backend url for non-matching paths filter usually used for default backend with error message",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": [
          "string",
          "null"
        ],
        "default": ""
      }
    },
    "discover_backend_ips": {
      "description": "DiscoverBackendIPs instructs discovering URLPrefix backend IPs via DNS.",
      "type": [
        "boolean",
        "null"
      ]
    },
    "drop_src_path_prefix_parts": {
      "description": "DropSrcPathPrefixParts is the number of `/`-delimited request path prefix parts to drop before proxying the request to backend. See [here](https://docs.victoriametrics.com/victoriametrics/vmauth/#dropping-request-path-prefix) for more details.",
      "type": [
        "integer",
        "null"
      ],
      "format": "int32"
    },
    "dump_request_on_errors": {
      "description": "DumpRequestOnErrors instructs vmauth to return detailed request params to the client if routing rules don't allow to forward request to the backends. Useful for debugging `src_hosts` and `src_headers` based routing rules\n\navailable since v1.107.0 vmauth version",
      "type": [
        "boolean",
        "null"
      ]
    },
    "headers": {
      "description": "Headers represent additional http headers, that vmauth uses in form of [\"header_key: header_value\"] multiple values for header key: [\"header_key: value1,value2\"] it's available since 1.68.0 version of vmauth",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": [
          "string",
          "null"
        ],
        "default": ""
      }
    },
    "ip_filters": {
      "description": "IPFilters defines per target src ip filters supported only with enterprise version of [vmauth](https://docs.victoriametrics.com/victoriametrics/vmauth/#ip-filters)",
      "default": {},
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.VMUserIPFilters"
    },
    "load_balancing_policy": {
      "description": "LoadBalancingPolicy defines load balancing policy to use for backend urls. Supported policies: least_loaded, first_available. See [here](https://docs.victoriametrics.com/victoriametrics/vmauth/#load-balancing) for more details (default \"least_loaded\")",
      "type": [
        "string",
        "null"
      ]
    },
    "max_concurrent_requests": {
      "description": "MaxConcurrentRequests defines max concurrent requests per user 300 is default value for vmauth",
      "type": [
        "integer",
        "null"
      ],
      "format": "int32"
    },
    "metric_labels": {
      "description": "MetricLabels - additional labels for metrics exported by vmauth for given user.",
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": {
        "type": [
          "string",
          "null"
        ],
        "default": ""
      }
    },
    "response_headers": {
      "description": "ResponseHeaders represent additional http headers, that vmauth adds for request response in form of [\"header_key: header_value\"] multiple values for header key: [\"header_key: value1,value2\"] it's available since 1.93.0 version of vmauth",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": [
          "string",
          "null"
        ],
        "default": ""
      }
    },
    "retry_status_codes": {
      "description": "RetryStatusCodes defines http status codes in numeric format for request retries e.g. [429,503]",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": [
          "integer",
          "null"
        ],
        "format": "int32",
        "default": 0
      }
    },
    "tlsConfig": {
      "description": "TLSConfig defines tls configuration for the backend connection",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.TLSConfig"
    },
    "url_map": {
      "type": [
        "array",
        "null"
      ],
      "items": {
        "default": {},
        "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.UnauthorizedAccessConfigURLMap"
      }
    },
    "url_prefix": {
      "description": "URLPrefix defines prefix prefix for destination",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": [
          "string",
          "null"
        ],
        "default": ""
      }
    }
  },
  "additionalProperties": false,
  "$schema": "http://json-schema.org/schema#"
}