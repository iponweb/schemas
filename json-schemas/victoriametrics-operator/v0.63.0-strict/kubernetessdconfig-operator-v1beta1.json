{
  "description": "KubernetesSDConfig allows retrieving scrape targets from Kubernetes' REST API. See [here](https://docs.victoriametrics.com/victoriametrics/sd_configs/#kubernetes_sd_configs)",
  "type": "object",
  "required": [
    "role"
  ],
  "properties": {
    "apiServer": {
      "description": "The API server address consisting of a hostname or IP address followed by an optional port number. If left empty, assuming process is running inside of the cluster. It will discover API servers automatically and use the pod's CA certificate and bearer token file at /var/run/secrets/kubernetes.io/serviceaccount/.",
      "type": [
        "string",
        "null"
      ]
    },
    "attach_metadata": {
      "description": "AttachMetadata configures metadata attaching from service discovery",
      "default": {},
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.AttachMetadata"
    },
    "authorization": {
      "description": "Authorization header to use on every scrape request.",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.Authorization"
    },
    "basicAuth": {
      "description": "BasicAuth information to use on every scrape request.",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.BasicAuth"
    },
    "followRedirects": {
      "description": "Configure whether HTTP requests follow HTTP 3xx redirects.",
      "type": [
        "boolean",
        "null"
      ]
    },
    "namespaces": {
      "description": "Optional namespace discovery. If omitted, discover targets across all namespaces.",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.NamespaceDiscovery"
    },
    "oauth2": {
      "description": "OAuth2 defines auth configuration",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.OAuth2"
    },
    "proxyURL": {
      "description": "ProxyURL eg http://proxyserver:2195 Directs scrapes to proxy through this endpoint.",
      "type": [
        "string",
        "null"
      ]
    },
    "proxy_client_config": {
      "description": "ProxyClientConfig configures proxy auth settings for scraping See [feature description](https://docs.victoriametrics.com/victoriametrics/vmagent/#scraping-targets-via-a-proxy)",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.ProxyAuth"
    },
    "role": {
      "description": "Role of the Kubernetes entities that should be discovered.",
      "type": [
        "string",
        "null"
      ],
      "default": ""
    },
    "selectors": {
      "description": "Selector to select objects.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "default": {},
        "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.K8SSelectorConfig"
      },
      "x-kubernetes-list-map-keys": [
        "role"
      ],
      "x-kubernetes-list-type": "map"
    },
    "tlsConfig": {
      "description": "TLS configuration to use on every scrape request",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.TLSConfig"
    }
  },
  "additionalProperties": false,
  "$schema": "http://json-schema.org/schema#"
}