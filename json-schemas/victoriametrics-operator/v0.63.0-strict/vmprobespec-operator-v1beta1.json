{
  "description": "VMProbeSpec contains specification parameters for a Probe.",
  "type": "object",
  "required": [
    "vmProberSpec"
  ],
  "properties": {
    "authorization": {
      "description": "Authorization with http header Authorization",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.Authorization"
    },
    "basicAuth": {
      "description": "BasicAuth allow an endpoint to authenticate over basic authentication",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.BasicAuth"
    },
    "bearerTokenFile": {
      "description": "File to read bearer token for scraping targets.",
      "type": [
        "string",
        "null"
      ]
    },
    "bearerTokenSecret": {
      "description": "Secret to mount to read bearer token for scraping targets. The secret needs to be in the same namespace as the scrape object and accessible by the victoria-metrics operator.",
      "$ref": "_definitions.json#/definitions/io.k8s.api.core.v1.SecretKeySelector"
    },
    "follow_redirects": {
      "description": "FollowRedirects controls redirects for scraping.",
      "type": [
        "boolean",
        "null"
      ]
    },
    "honorLabels": {
      "description": "HonorLabels chooses the metric's labels on collisions with target labels.",
      "type": [
        "boolean",
        "null"
      ]
    },
    "honorTimestamps": {
      "description": "HonorTimestamps controls whether vmagent respects the timestamps present in scraped data.",
      "type": [
        "boolean",
        "null"
      ]
    },
    "interval": {
      "description": "Interval at which metrics should be scraped",
      "type": [
        "string",
        "null"
      ]
    },
    "jobName": {
      "description": "The job name assigned to scraped metrics by default.",
      "type": [
        "string",
        "null"
      ]
    },
    "max_scrape_size": {
      "description": "MaxScrapeSize defines a maximum size of scraped data for a job",
      "type": [
        "string",
        "null"
      ]
    },
    "metricRelabelConfigs": {
      "description": "MetricRelabelConfigs to apply to samples after scrapping.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.RelabelConfig"
      }
    },
    "module": {
      "description": "The module to use for probing specifying how to probe the target. Example module configuring in the blackbox exporter: https://github.com/prometheus/blackbox_exporter/blob/master/example.yml",
      "type": [
        "string",
        "null"
      ]
    },
    "oauth2": {
      "description": "OAuth2 defines auth configuration",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.OAuth2"
    },
    "params": {
      "description": "Optional HTTP URL parameters",
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": {
        "type": [
          "array",
          "null"
        ],
        "items": {
          "type": [
            "string",
            "null"
          ],
          "default": ""
        }
      }
    },
    "path": {
      "description": "HTTP path to scrape for metrics.",
      "type": [
        "string",
        "null"
      ]
    },
    "proxyURL": {
      "description": "ProxyURL eg http://proxyserver:2195 Directs scrapes to proxy through this endpoint.",
      "type": [
        "string",
        "null"
      ]
    },
    "sampleLimit": {
      "description": "SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.",
      "type": [
        "integer",
        "null"
      ],
      "format": "int64"
    },
    "scheme": {
      "description": "HTTP scheme to use for scraping.",
      "type": [
        "string",
        "null"
      ]
    },
    "scrapeTimeout": {
      "description": "Timeout after which the scrape is ended",
      "type": [
        "string",
        "null"
      ]
    },
    "scrape_interval": {
      "description": "ScrapeInterval is the same as Interval and has priority over it. one of scrape_interval or interval can be used",
      "type": [
        "string",
        "null"
      ]
    },
    "seriesLimit": {
      "description": "SeriesLimit defines per-scrape limit on number of unique time series a single target can expose during all the scrapes on the time window of 24h.",
      "type": [
        "integer",
        "null"
      ],
      "format": "int64"
    },
    "targets": {
      "description": "Targets defines a set of static and/or dynamically discovered targets to be probed using the prober.",
      "default": {},
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.VMProbeTargets"
    },
    "tlsConfig": {
      "description": "TLSConfig configuration to use when scraping the endpoint",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.TLSConfig"
    },
    "vmProberSpec": {
      "description": "Specification for the prober to use for probing targets. The prober.URL parameter is required. Targets cannot be probed if left empty.",
      "default": {},
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.VMProberSpec"
    },
    "vm_scrape_params": {
      "description": "VMScrapeParams defines VictoriaMetrics specific scrape parameters",
      "$ref": "_definitions.json#/definitions/com.victoriametrics.operator.api.operator.v1beta1.VMScrapeParams"
    }
  },
  "additionalProperties": false,
  "$schema": "http://json-schema.org/schema#"
}